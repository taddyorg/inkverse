---
description: creative phase architecture
globs: creative-phase-architecture.md
alwaysApply: false
---
# CREATIVE PHASE: ARCHITECTURE DESIGN

> **TL;DR:** This document provides structured guidance for architectural design decisions during creative phases for the Inkverse monorepo, ensuring comprehensive evaluation of options and clear documentation of architectural choices across multiple applications.

## üèóÔ∏è ARCHITECTURE DESIGN WORKFLOW

```mermaid
graph TD
    Start["Architecture<br>Design Start"] --> Req["1. Requirements<br>Analysis"]
    Req --> Target["2. Target<br>Application"]
    Target --> Comp["3. Component<br>Identification"]
    Comp --> Options["4. Architecture<br>Options"]
    Options --> Eval["5. Option<br>Evaluation"]
    Eval --> Decision["6. Decision &<br>Documentation"]
    Decision --> Valid["7. Validation &<br>Verification"]
    
    style Start fill:#4da6ff,stroke:#0066cc,color:white
    style Req fill:#ffa64d,stroke:#cc7a30,color:white
    style Comp fill:#4dbb5f,stroke:#36873f,color:white
    style Target fill:#bb4d5f,stroke:#873f36,color:white
    style Options fill:#d94dbb,stroke:#a3378a,color:white
    style Eval fill:#4dbbbb,stroke:#368787,color:white
    style Decision fill:#d971ff,stroke:#a33bc2,color:white
    style Valid fill:#ff71c2,stroke:#c23b8a,color:white
```

## üèóÔ∏è MONOREPO APPLICATION SELECTION

```mermaid
graph TD
    Architecture["Architecture<br>Decision"] --> AppSelect{"Target<br>Application?"}
    
    AppSelect -->|"Website"| Website["React Website<br>Considerations"]
    AppSelect -->|"Mobile"| Mobile["React Native<br>Considerations"]
    AppSelect -->|"Backend"| Backend["GraphQL Server<br>Considerations"]
    AppSelect -->|"Worker"| Worker["Worker Services<br>Considerations"]
    AppSelect -->|"Cross-App"| Cross["Cross-Application<br>Architecture"]
    
    Website --> WebStack["React Router<br>Apollo Client<br>TailwindCSS"]
    Mobile --> MobileStack["Expo<br>React Navigation<br>Apollo Client"]
    Backend --> BackendStack["Apollo Server<br>Express<br>Database Integrations"]
    Worker --> WorkerStack["Event-driven<br>Background Jobs<br>Messaging"]
    Cross --> CrossStack["Shared Queries<br>Shared Utility Functions<br>Constants"]
    
    style Architecture fill:#4da6ff,stroke:#0066cc,color:white
    style AppSelect fill:#ffa64d,stroke:#cc7a30,color:white
    style Website fill:#4dbb5f,stroke:#36873f,color:white
    style Mobile fill:#d94dbb,stroke:#a3378a,color:white
    style Backend fill:#4dbbbb,stroke:#368787,color:white
    style Worker fill:#d971ff,stroke:#a33bc2,color:white
    style Cross fill:#ff71c2,stroke:#c23b8a,color:white
```

## üìã ARCHITECTURE DECISION TEMPLATE

```markdown
# Architecture Decision Record

## Context
- Target Application: [Website/Mobile/GraphQL Server/Worker]
- System Requirements:
  - [Requirement 1]
  - [Requirement 2]
- Technical Constraints:
  - [Constraint 1]
  - [Constraint 2]
- Cross-Application Impacts:
  - [Impact on Website]
  - [Impact on Mobile]
  - [Impact on GraphQL Server]
  - [Impact on Worker]
- Shared or Public Utilies Impact: 
  - [Impact from using Shared or Public Utilies on Website]
  - [Impact from using Shared or Public Utilies on Mobile]
  - [Impact from using Shared or Public Utilies on GraphQL Server]
  - [Impact from using Shared or Public Utilies on Worker]

## Component Analysis
- Core Components:
  - [Component 1]: [Purpose/Role]
  - [Component 2]: [Purpose/Role]
- Interactions:
  - [Interaction 1]
  - [Interaction 2]

## Architecture Options
### Option 1: [Name]
- Description: [Brief description]
- Pros:
  - [Pro 1]
  - [Pro 2]
- Cons:
  - [Con 1]
  - [Con 2]
- Technical Fit: [High/Medium/Low]
- Complexity: [High/Medium/Low]
- Scalability: [High/Medium/Low]

### Option 2: [Name]
[Same structure as Option 1]

## Decision
- Chosen Option: [Option name]
- Rationale: [Explanation]
- Implementation Considerations:
  - [Consideration 1]
  - [Consideration 2]
- Cross-Application Implementation:
  - Website: [Implementation details]
  - Mobile: [Implementation details]
  - GraphQL Server: [Implementation details]
  - Worker: [Implementation details]
- Shared or Public Utilies Impact: 
  - [Impact from using Shared Server Utilites]
  - [Impact from using Shared Client Utilites]
  - [Impact from using Public Utilites]

## Validation
- Requirements Met:
  - [‚úì] Requirement 1
  - [‚úì] Requirement 2
- Technical Feasibility: [Assessment]
- Risk Assessment: [Evaluation]
```

## üéØ ARCHITECTURE EVALUATION CRITERIA

```mermaid
graph TD
    subgraph "EVALUATION CRITERIA"
    C1["Scalability"]
    C2["Maintainability"]
    C3["Performance"]
    C4["Security"]
    C5["Cost"]
    C6["Time to Market"]
    C7["Cross-App Impact"]
    C8["Shared or Public Utilies Impact"]
    end
    
    style C1 fill:#4dbb5f,stroke:#36873f,color:white
    style C2 fill:#ffa64d,stroke:#cc7a30,color:white
    style C3 fill:#d94dbb,stroke:#a3378a,color:white
    style C4 fill:#4dbbbb,stroke:#368787,color:white
    style C5 fill:#d971ff,stroke:#a33bc2,color:white
    style C6 fill:#ff71c2,stroke:#c23b8a,color:white
    style C7 fill:#4da6ff,stroke:#0066cc,color:white
    style C8 fill:#6da6ff,stroke:#668787,color:white
```

## üìä ARCHITECTURE VISUALIZATION TEMPLATES

### Component Diagram Template
```mermaid
graph TD
    subgraph "SYSTEM ARCHITECTURE"
    C1["Component 1"]
    C2["Component 2"]
    C3["Component 3"]
    
    C1 -->|"Interface 1"| C2
    C2 -->|"Interface 2"| C3
    end
    
    style C1 fill:#4dbb5f,stroke:#36873f,color:white
    style C2 fill:#ffa64d,stroke:#cc7a30,color:white
    style C3 fill:#d94dbb,stroke:#a3378a,color:white
```

### Monorepo Integration Template
```mermaid
graph TD
    subgraph "Application Integration"
    Website["Website<br>React"]
    Mobile["Mobile<br>React Native"]
    GraphQL["GraphQL Server<br>Apollo Server"]
    Worker["Worker<br>Event Services"]
    
    Website -->|"Make API Requests"| GraphQL
    Mobile -->|"Make API Requests"| GraphQL
    GraphQL -->|"Run Background Jobs or Send Events"| Worker
    Worker -->|"Data Updates"| GraphQL
    end
    
    style Website fill:#4dbb5f,stroke:#36873f,color:white
    style Mobile fill:#ffa64d,stroke:#cc7a30,color:white
    style GraphQL fill:#d94dbb,stroke:#a3378a,color:white
    style Worker fill:#4dbbbb,stroke:#368787,color:white
```

## ‚úÖ VERIFICATION CHECKLIST

```markdown
## Architecture Design Verification
- [ ] All system requirements addressed
- [ ] Component responsibilities defined
- [ ] Interfaces specified
- [ ] Data flows documented
- [ ] Security considerations addressed
- [ ] Scalability requirements met
- [ ] Performance requirements met
- [ ] Maintenance approach defined
- [ ] Cross-application impacts considered
- [ ] Shared or Public Utilities considered

## Implementation Readiness
- [ ] All components identified
- [ ] Dependencies mapped
- [ ] Technical constraints documented
- [ ] Risk assessment completed
- [ ] Resource requirements defined
- [ ] Timeline estimates provided
- [ ] Target application(s) clearly identified
- [ ] If should be part of shared or public utilities identified
```

## üîÑ ARCHITECTURE REVIEW PROCESS

```mermaid
graph TD
    subgraph "REVIEW PROCESS"
    R1["Technical<br>Review"]
    R2["Security<br>Review"]
    R3["Performance<br>Review"]
    R4["Cross-App<br>Impact Review"]
    R5["Shared or Public Utilities<br>Impact Review"]
    R6["Final<br>Approval"]
    end
    
    R1 --> R2 --> R3 --> R4 --> R5 --> R6
    
    style R1 fill:#4dbb5f,stroke:#36873f,color:white
    style R2 fill:#ffa64d,stroke:#cc7a30,color:white
    style R3 fill:#d94dbb,stroke:#a3378a,color:white
    style R4 fill:#4da6ff,stroke:#0066cc,color:white
    style R5 fill:#4dbbbb,stroke:#368787,color:white
    style R6 fill:#f94dbb,stroke:#c3378a,color:white
```

## üîÑ DOCUMENT MANAGEMENT

```mermaid
graph TD
    Current["Current Document"] --> Active["Active:<br>- creative-phase-architecture.md"]
    Current --> Related["Related:<br>- creative-phase-enforcement.md<br>- planning-comprehensive.md"]
    
    style Current fill:#4da6ff,stroke:#0066cc,color:white
    style Active fill:#4dbb5f,stroke:#36873f,color:white
    style Related fill:#ffa64d,stroke:#cc7a30,color:white
``` 