---
description: planning comprehensive
globs: planning-comprehensive.mdc
alwaysApply: false
---
# LEVEL 3 COMPREHENSIVE PLANNING

> **TL;DR:** This document provides structured planning guidelines for Level 3 (Intermediate Feature) tasks, focusing on comprehensive planning with creative phases and clear implementation strategies, including support for features spanning multiple applications in the monorepo.

## ğŸ—ï¸ PLANNING WORKFLOW

```mermaid
graph TD
    Start["Planning Start"] --> Req["ğŸ“‹ Requirements<br>Analysis"]
    Req --> Comp["ğŸ” Component<br>Analysis"]
    Comp --> Design["ğŸ¨ Design<br>Decisions"]
    Design --> Impl["âš™ï¸ Implementation<br>Strategy"]
    Impl --> Test["ğŸ§ª Testing<br>Strategy"]
    Test --> Doc["ğŸ“š Documentation<br>Plan"]
    
    Design --> Creative["Creative Phases:"]
    Creative --> UI["UI/UX Design"]
    Creative --> Arch["Architecture"]
    Creative --> Algo["Algorithm"]
    
    style Start fill:#4da6ff,stroke:#0066cc,color:white
    style Req fill:#ffa64d,stroke:#cc7a30,color:white
    style Comp fill:#4dbb5f,stroke:#36873f,color:white
    style Design fill:#d94dbb,stroke:#a3378a,color:white
    style Impl fill:#4dbbbb,stroke:#368787,color:white
    style Test fill:#d971ff,stroke:#a33bc2,color:white
    style Doc fill:#ff71c2,stroke:#c23b8a,color:white
```

## ğŸ“‹ PLANNING TEMPLATE

```markdown
# Feature Planning Document

## Target Applications
*List all applications affected by this feature (e.g., `website`, `react-native`, `graphql-server`, `worker`).*
- [ ] Application 1 (`e.g., graphql-server`)
- [ ] Application 2 (`e.g., website`)
- [ ] Application 3 (`e.g., react-native`)
- ...

## Requirements Analysis
*Define requirements considering all target applications.*
- Core Requirements:
  - [ ] Requirement 1
  - [ ] Requirement 2
- Technical Constraints:
  - [ ] Constraint 1 (e.g., API compatibility)
  - [ ] Constraint 2

## Component Analysis
*List affected components, grouped by application or clearly indicating the target application for each component.*
- Application 1 (`e.g., graphql-server`):
  - Component 1 (`e.g., src/graphql/resolvers/featureX.ts`)
    - Changes needed:
    - Dependencies:
- Application 2 (`e.g., website`):
  - Component 2 (`e.g., app/components/featureX/Component.tsx`)
    - Changes needed:
    - Dependencies:
- Application 3 (`e.g., react-native`):
  - Component 3 (`e.g., app/screens/featureX/Screen.tsx`)
    - Changes needed:
    - Dependencies:

## Design Decisions
*Address design considerations across applications (e.g., API contracts, UI/UX consistency).*
- Architecture:
  - [ ] Decision 1 (e.g., GraphQL schema changes)
  - [ ] Decision 2
- UI/UX (if applicable):
  - [ ] Design 1 (e.g., Web component design)
  - [ ] Design 2 (e.g., Mobile screen design)
- Algorithms:
  - [ ] Algorithm 1
  - [ ] Algorithm 2

## Implementation Strategy
*Break down the feature into phases and tasks, clearly indicating the target application for each task (e.g., using prefixes like `[Server]`, `[Web]`, `[Mobile]`).*
1. Phase 1: Backend Implementation (`graphql-server`)
   - [ ] [Server] Task 1: Define GraphQL schema
   - [ ] [Server] Task 2: Implement resolver logic
2. Phase 2: Web Client Integration (`website`)
   - [ ] [Web] Task 3: Add Apollo mutation hook
   - [ ] [Web] Task 4: Update UI component
3. Phase 3: Mobile Client Integration (`react-native`)
   - [ ] [Mobile] Task 5: Add Apollo mutation hook
   - [ ] [Mobile] Task 6: Update screen component

## Testing Strategy
*Include tests covering interactions between applications.*
- Unit Tests:
  - [ ] [Server] Test 1
  - [ ] [Web] Test 2
  - [ ] [Mobile] Test 3
- Integration Tests:
  - [ ] Test 4 (e.g., End-to-end test: Web -> Server)
  - [ ] Test 5 (e.g., End-to-end test: Mobile -> Server)

## Documentation Plan
- [ ] API Documentation (e.g., GraphQL schema updates)
- [ ] User Guide Updates (if applicable)
- [ ] Architecture Documentation
```

## ğŸ¨ CREATIVE PHASE IDENTIFICATION

```mermaid
graph TD
    subgraph "CREATIVE PHASES REQUIRED"
    UI["ğŸ¨ UI/UX Design<br>Required: Yes/No"]
    Arch["ğŸ—ï¸ Architecture Design<br>Required: Yes/No"]
    Algo["âš™ï¸ Algorithm Design<br>Required: Yes/No"]
    end
    
    UI --> UITrig["Triggers:<br>- New UI Component<br>- UX Flow Change"]
    Arch --> ArchTrig["Triggers:<br>- System Structure Change<br>- New Integration"]
    Algo --> AlgoTrig["Triggers:<br>- Performance Critical<br>- Complex Logic"]
    
    style UI fill:#4dbb5f,stroke:#36873f,color:white
    style Arch fill:#ffa64d,stroke:#cc7a30,color:white
    style Algo fill:#d94dbb,stroke:#a3378a,color:white
```

## âœ… VERIFICATION CHECKLIST

```mermaid
graph TD
    subgraph "PLANNING VERIFICATION"
    R["Requirements<br>Complete"]
    C["Components<br>Identified"]
    D["Design Decisions<br>Made"]
    I["Implementation<br>Plan Ready"]
    T["Testing Strategy<br>Defined"]
    Doc["Documentation<br>Plan Ready"]
    end
    
    R --> C --> D --> I --> T --> Doc
    
    style R fill:#4dbb5f,stroke:#36873f,color:white
    style C fill:#ffa64d,stroke:#cc7a30,color:white
    style D fill:#d94dbb,stroke:#a3378a,color:white
    style I fill:#4dbbbb,stroke:#368787,color:white
    style T fill:#d971ff,stroke:#a33bc2,color:white
    style Doc fill:#ff71c2,stroke:#c23b8a,color:white
```

## ğŸ”„ IMPLEMENTATION PHASES

```mermaid
graph LR
    Setup["ğŸ› ï¸ Setup"] --> Core["âš™ï¸ Core<br>Implementation"]
    Core --> UI["ğŸ¨ UI<br>Implementation"]
    UI --> Test["ğŸ§ª Testing"]
    Test --> Doc["ğŸ“š Documentation"]
    
    style Setup fill:#4da6ff,stroke:#0066cc,color:white
    style Core fill:#4dbb5f,stroke:#36873f,color:white
    style UI fill:#ffa64d,stroke:#cc7a30,color:white
    style Test fill:#d94dbb,stroke:#a3378a,color:white
    style Doc fill:#4dbbbb,stroke:#368787,color:white
```

## ğŸ“š DOCUMENT MANAGEMENT

```mermaid
graph TD
    Current["Current Documents"] --> Active["Active:<br>- planning-comprehensive.md<br>- task-tracking-intermediate.md"]
    Current --> Next["Next Document:<br>- creative-phase-enforcement.md"]
    
    style Current fill:#4da6ff,stroke:#0066cc,color:white
    style Active fill:#4dbb5f,stroke:#36873f,color:white
    style Next fill:#ffa64d,stroke:#cc7a30,color:white
``` 